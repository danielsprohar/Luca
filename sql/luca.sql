DROP DATABASE luca;

CREATE DATABASE luca
	WITH 
		OWNER = postgres
		ENCODING = 'UTF8'
		LC_COLLATE = 'English_United States.1252'
		LC_CTYPE = 'English_United States.1252'
		TABLESPACE = pg_default
		CONNECTION LIMIT = -1;

\connect luca;

-- m:n
DROP TABLE IF EXISTS occupants;
DROP TABLE IF EXISTS customer_accounts;
DROP TABLE IF EXISTS invoice_payments;
DROP TABLE IF EXISTS user_roles;

-- entities
DROP TABLE IF EXISTS invoices;
DROP TABLE IF EXISTS rental_agreements;
DROP TABLE IF EXISTS customer_vehicles;
DROP TABLE IF EXISTS payments;
DROP TABLE IF EXISTS customers;
DROP TABLE IF EXISTS parking_spaces;
DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS users;


-- ============================================================
-- Custom types
-- ============================================================
CREATE TYPE public.space_type AS ENUM (
	'rv', 
	'mobile home', 
	'storage'
);

CREATE TYPE public.invoice_status AS ENUM (
	'bad credit'
	'not paid', 
	'paid',
	'partially paid'
);

CREATE TYPE public.rental_agreement_type AS ENUM (
	'daily', 
	'monthly', 
	'weekly'
);

CREATE TYPE public.payment_method AS ENUM (
	'cash', 
	'check',
	'credit', 
	'debit', 
	'money order'
);

CREATE DOMAIN public.year AS integer
	CONSTRAINT year_check CHECK (VALUE >= 1901);

-- ============================================================
-- Domain entities
-- ============================================================

CREATE TABLE users
(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	username VARCHAR(255) NOT NULL,
	normalized_username VARCHAR(255) GENERATED ALWAYS AS (UPPER(username)) STORED,
	email VARCHAR(255) NOT NULL,
	normalized_email VARCHAR(255) NOT NULL UNIQUE GENERATED ALWAYS AS (UPPER(email)) STORED,
	hashed_password VARCHAR(64) NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp
);

CREATE TABLE roles
(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	name VARCHAR(64) NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp
);

CREATE TABLE user_roles
(
	user_id int NOT NULL,
	role_id int NOT NULL,
	PRIMARY KEY (user_id, role_id),
	FOREIGN KEY (user_id) REFERENCES users (id),
	FOREIGN KEY (role_id) REFERENCES roles (id),
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp
);

CREATE TABLE IF NOT EXISTS parking_spaces
(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	name VARCHAR(32) NOT NULL,
	description VARCHAR(128),
	is_occupied boolean NOT NULL DEFAULT FALSE,
	amperage_capacity integer,
	space_type public.space_type NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp
);

CREATE TABLE IF NOT EXISTS customers
(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	first_name VARCHAR(32) NOT NULL,
	middle_name VARCHAR(32),
	last_name VARCHAR(32) NOT NULL,
	phone VARCHAR(32),
	email VARCHAR(255),
	normalized_email VARCHAR(255) GENERATED ALWAYS AS (UPPER(email)) STORED,
	gender VARCHAR(2),
	dl_number VARCHAR(32),
	dl_state VARCHAR(32),
	dl_photo_url VARCHAR(2048),
	is_active boolean NOT NULL DEFAULT TRUE,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp
);

CREATE INDEX customer_full_name
    ON customers USING btree
    (first_name ASC NULLS LAST, last_name ASC NULLS LAST)
;

-- Weak entity type
CREATE TABLE IF NOT EXISTS customer_vehicles
(
	customer_id integer NOT NULL,
	year public.year NOT NULL,
	make VARCHAR(32) NOT NULL,
	model VARCHAR(32) NOT NULL,
	license_plate_number VARCHAR(32) NOT NULL,
	license_plate_state VARCHAR(32) NOT NULL,
	photo_url VARCHAR(2048),
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE cascade
);

CREATE TABLE IF NOT EXISTS rental_agreements
(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	recurring_due_date integer,
	recurring_rate numeric(10,2) NOT NULL,
	is_active boolean DEFAULT TRUE,
	customer_id integer NOT NULL,
	parking_space_id integer NOT NULL,
	agreement_type public.rental_agreement_type NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	FOREIGN KEY (customer_id) REFERENCES customers (id),
	FOREIGN KEY (parking_space_id) REFERENCES parking_spaces (id)
);

-- The invoice amount is determined by the 
-- 	"recurring_rate" attribute of the `rental_agreement` entity.
CREATE TABLE IF NOT EXISTS invoices
(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	payment_status public.payment_status NOT NULL,
	payment_due_date date NOT NULL,
	billing_period_start date NOT NULL,
	billing_period_end date NOT NULL,
	rental_agreement_id integer NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	FOREIGN KEY (rental_agreement_id) REFERENCES rental_agreements (id)
);

CREATE TABLE IF NOT EXISTS payments
(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	amount numeric(10,2) NOT NULL,
	payment_method public.payment_method NOT NULL,
	details VARCHAR(2048),
	customer_id INT NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	FOREIGN KEY (customer_id) REFERENCES customers (id)
);

-- ============================================================

-- ============================================================
-- Junction tables for m:n relationships
-- ============================================================

CREATE TABLE IF NOT EXISTS invoice_payments
(
	invoice_id int NOT NULL,
	payment_id int NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	PRIMARY KEY (invoice_id, payment_id),
	FOREIGN KEY (invoice_id) REFERENCES invoices (id) ON DELETE cascade,
	FOREIGN KEY (payment_id) REFERENCES payments (id) ON DELETE cascade
);

-- ============================================================

CREATE TABLE IF NOT EXISTS occupants
(
	customer_id integer NOT NULL,
	parking_space_id integer NOT NULL,
	created_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	updated_at TIMESTAMPTZ NOT NULL DEFAULT current_timestamp,
	PRIMARY KEY (customer_id, parking_space_id),
	FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE cascade,
	FOREIGN KEY (parking_space_id) REFERENCES parking_spaces (id) ON DELETE cascade
);

-- ===========================================================================
-- Seed data
-- ===========================================================================

INSERT INTO
	parking_spaces (name, amperage_capacity, space_type) 
VALUES
	('1', 50, 'rv'), ('2', 30, 'rv'), ('3', 50, 'rv'), ('4', 30, 'rv'), ('5', 50, 'rv'),
    ('6', 30, 'rv'), ('7', 50, 'rv'), ('8', 50, 'rv'), ('9', 50, 'rv'), ('10', 30, 'rv'),
    ('11', 30, 'rv'), ('12', 30, 'rv'), ('13', 30, 'rv'), ('14', 50, 'rv'), ('15', 50, 'rv'),
    ('16', 50, 'rv'), ('17', 30, 'rv'), ('18', 30, 'rv'), ('19', 30, 'rv'), ('20', 50, 'rv'),
    ('21', 30, 'rv'), ('22', 50, 'rv'), ('23', 50, 'rv'), ('24', 30, 'rv'), ('25', 30, 'rv'),
    ('26', 30, 'rv'), ('27', 30, 'rv'), ('28', 30, 'rv'), ('29',30, 'rv') , ('30',30, 'rv'),
    ('31',50, 'rv'), ('32',50, 'rv'), 
    ('A', 0, 'mobile home'), ('B', 0, 'mobile home'), 
	('C', 0, 'mobile home'), ('D', 0, 'mobile home'),
	('E', 0, 'mobile home'), ('F', 0, 'mobile home'), 
	('G', 0, 'mobile home');

-- ===========================================================================

INSERT INTO 
	roles (id, name)
VALUES
	(1, 'user'), (2, 'admin');

-- ===========================================================================
-- Customers
-- ===========================================================================

insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Frederic', 'Cyrille', 'Le Provost', 'cleprovost0@infoseek.co.jp', '(948) 371-1582', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Harli', 'Prue', 'Baxstare', 'pbaxstare1@joomla.org', '(698) 310-7474', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Ash', 'Pincas', 'Rangle', 'prangle2@rambler.ru', '(586) 840-3926', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Gloriana', 'Demeter', 'Hardaway', 'dhardaway3@usda.gov', '(338) 973-1701', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Megan', 'Lena', 'Macvain', 'lmacvain4@surveymonkey.com', '(248) 039-6731', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Burr', 'Tabor', 'Kolodziejski', 'tkolodziejski5@blogtalkradio.com', '(941) 374-5220', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Jeanelle', 'Shaylah', 'Pedler', 'spedler6@oakley.com', '(920) 942-8355', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Ambrosio', 'Maximilien', 'Haberfield', 'mhaberfield7@desdev.cn', '(531) 040-3351', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Valentine', 'Halette', 'Dagwell', 'hdagwell8@so-net.ne.jp', '(891) 635-6830', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Desiri', 'Christian', 'Casone', 'ccasone9@hp.com', '(738) 716-4387', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Emilio', 'Darrick', 'Chene', 'dchenea@soup.io', '(678) 134-1967', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Edyth', 'Paloma', 'Zanettini', 'pzanettinib@woothemes.com', '(317) 058-2806', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Saxe', 'Jayme', 'Ogger', 'joggerc@wikimedia.org', '(209) 132-7926', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Robena', 'Mollee', 'Sorel', 'msoreld@miitbeian.gov.cn', '(516) 321-1315', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Dudley', 'Tommie', 'Seif', 'tseife@vistaprint.com', '(844) 271-0958', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Griswold', 'Hewe', 'Praundl', 'hpraundlf@myspace.com', '(214) 780-5123', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Fran', 'Valle', 'Branch', 'vbranchg@phoca.cz', '(789) 114-4615', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Constance', 'Colly', 'Mattiato', 'cmattiatoh@miibeian.gov.cn', '(224) 542-1770', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Joyann', 'Donnajean', 'Beere', 'dbeerei@techcrunch.com', '(389) 108-8253', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Julissa', 'Orelie', 'Garmons', 'ogarmonsj@economist.com', '(204) 586-5098', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Lauryn', 'Julianna', 'Adamowicz', 'jadamowiczk@vimeo.com', '(125) 621-7570', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Ibby', 'Winonah', 'MacSharry', 'wmacsharryl@walmart.com', '(453) 463-2139', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Felicdad', 'Bryna', 'Deverall', 'bdeverallm@wordpress.org', '(947) 890-5457', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Madelin', 'Chiquita', 'Hollyland', 'chollylandn@technorati.com', '(895) 796-0442', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Dido', 'Laurel', 'Tissiman', 'ltissimano@multiply.com', '(752) 471-0420', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Toby', 'Diena', 'Redsull', 'dredsullp@jiathis.com', '(507) 362-3135', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Norry', 'Abdel', 'Keers', 'akeersq@mediafire.com', '(912) 007-5526', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Carine', 'Fancy', 'Crates', 'fcratesr@indiegogo.com', '(881) 311-7954', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Gerik', 'Levin', 'Bladen', 'lbladens@blinklist.com', '(649) 504-0524', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Jeffrey', 'Lemmy', 'Alaway', 'lalawayt@globo.com', '(571) 692-5702', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Jerrie', 'Dael', 'Gilvary', 'dgilvaryu@mac.com', '(701) 392-2783', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Alphonso', 'Elwyn', 'MacMenemy', 'emacmenemyv@ning.com', '(835) 138-1614', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Valma', 'Malinda', 'Lomas', 'mlomasw@arstechnica.com', '(399) 087-0731', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Fania', 'Joceline', 'Ladbrook', 'jladbrookx@unc.edu', '(335) 921-2495', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Wit', 'Maximilien', 'Fenech', 'mfenechy@w3.org', '(203) 516-6299', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Hurleigh', 'Ty', 'Wadforth', 'twadforthz@deviantart.com', '(811) 071-2707', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Maurits', 'Dilly', 'Wickens', 'dwickens10@jiathis.com', '(337) 605-4813', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Ingra', 'Gonzales', 'Charman', 'gcharman11@telegraph.co.uk', '(141) 582-4460', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Richart', 'Galven', 'Gaywood', 'ggaywood12@whitehouse.gov', '(605) 539-0004', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Wittie', 'Willis', 'Beacom', 'wbeacom13@ocn.ne.jp', '(401) 293-7163', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Gilly', 'Naoma', 'Garvagh', 'ngarvagh14@quantcast.com', '(251) 110-7500', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Eldridge', 'Ignacio', 'Flitcroft', 'iflitcroft15@plala.or.jp', '(043) 677-7585', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Don', 'Alvie', 'Bredee', 'abredee16@jigsy.com', '(580) 923-5362', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Kit', 'Myrtle', 'Mixture', 'mmixture17@csmonitor.com', '(965) 225-9951', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Merilee', 'Maurine', 'Womersley', 'mwomersley18@usda.gov', '(083) 072-4609', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Angeli', 'Mikkel', 'Stolze', 'mstolze19@cbc.ca', '(880) 221-4607', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Angie', 'Leonanie', 'Mitford', 'lmitford1a@bigcartel.com', '(947) 733-7915', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Sherri', 'Libby', 'Scroyton', 'lscroyton1b@symantec.com', '(334) 564-5944', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Park', 'Chucho', 'Carverhill', 'ccarverhill1c@multiply.com', '(911) 762-6198', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Melosa', 'Marci', 'Loughlan', 'mloughlan1d@google.cn', '(575) 528-4683', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Wenda', 'Lexis', 'Dominique', 'ldominique1e@geocities.jp', '(079) 235-7744', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Elmore', 'Lane', 'Larchier', 'llarchier1f@wufoo.com', '(751) 360-8022', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Dorice', 'Sadella', 'Waiton', 'swaiton1g@ning.com', '(367) 454-8471', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Felike', 'Saunderson', 'Richley', 'srichley1h@virginia.edu', '(620) 701-0637', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Andeee', 'Felita', 'Clulow', 'fclulow1i@alexa.com', '(704) 994-2960', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Cleveland', 'Brigg', 'MacRury', 'bmacrury1j@craigslist.org', '(290) 239-9012', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Ardisj', 'Fayina', 'Swansborough', 'fswansborough1k@reference.com', '(585) 515-3455', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Marven', 'Karlis', 'McCorry', 'kmccorry1l@artisteer.com', '(512) 813-4549', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Freeland', 'Percy', 'Sapson', 'psapson1m@time.com', '(466) 409-1721', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Tammara', 'Linette', 'De Gogay', 'ldegogay1n@hc360.com', '(329) 260-1164', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Huey', 'Lane', 'Tricker', 'ltricker1o@com.com', '(272) 222-4227', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Esme', 'Andros', 'Kinkaid', 'akinkaid1p@dion.ne.jp', '(718) 705-3417', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Whitney', 'Ragnar', 'Hurler', 'rhurler1q@creativecommons.org', '(300) 551-0444', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Devonna', 'Hedda', 'Mohammed', 'hmohammed1r@acquirethisname.com', '(460) 764-4420', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Margy', 'Phaidra', 'Casiroli', 'pcasiroli1s@va.gov', '(062) 678-7427', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Gillian', 'Fidela', 'Dongles', 'fdongles1t@squarespace.com', '(828) 796-0880', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Mariel', 'Ofella', 'Laslett', 'olaslett1u@wordpress.com', '(713) 225-2826', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Urbano', 'Bron', 'Ruppert', 'bruppert1v@dagondesign.com', '(196) 377-4156', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Arielle', 'Vida', 'Menpes', 'vmenpes1w@qq.com', '(585) 720-5292', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Marcille', 'Iolande', 'Dominicacci', 'idominicacci1x@uol.com.br', '(479) 211-6994', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Constantia', 'Gretal', 'Ayto', 'gayto1y@dion.ne.jp', '(181) 153-2248', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Hallie', 'Ashlan', 'Foxen', 'afoxen1z@irs.gov', '(872) 121-2926', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Katti', 'Onida', 'Bruun', 'obruun20@wordpress.org', '(794) 862-8234', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Tova', 'Chelsy', 'Knowlman', 'cknowlman21@flavors.me', '(286) 489-2531', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Michel', 'Ben', 'Todeo', 'btodeo22@goo.ne.jp', '(631) 770-0798', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Jenna', 'Myrlene', 'Abrehart', 'mabrehart23@mozilla.org', '(700) 998-4674', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Cordie', 'Craggie', 'Ovise', 'covise24@barnesandnoble.com', '(330) 245-7285', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Chet', 'Simeon', 'Hakeworth', 'shakeworth25@jiathis.com', '(015) 149-6535', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Jaquelin', 'Letitia', 'Pelfer', 'lpelfer26@hud.gov', '(104) 040-4054', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Kelbee', 'Osbourne', 'Lewens', 'olewens27@accuweather.com', '(777) 039-3022', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Alastair', 'Gabbie', 'Knifton', 'gknifton28@fc2.com', '(095) 480-1162', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Bev', 'Arlinda', 'Pringell', 'apringell29@cloudflare.com', '(510) 017-5216', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Kandace', 'Marga', 'Kulas', 'mkulas2a@nifty.com', '(111) 372-4195', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Wain', 'Levy', 'Oxberry', 'loxberry2b@webeden.co.uk', '(564) 022-0331', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Cristine', 'Tracy', 'Ledington', 'tledington2c@posterous.com', '(117) 044-7221', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Jethro', 'Bernardo', 'Stainton - Skinn', 'bstaintonskinn2d@nsw.gov.au', '(821) 257-3393', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Ester', 'Cloris', 'Meggison', 'cmeggison2e@ucoz.com', '(959) 475-7701', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Sadella', 'Roanna', 'Todari', 'rtodari2f@nationalgeographic.com', '(351) 123-7187', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Doti', 'Florella', 'Francescuccio', 'ffrancescuccio2g@bandcamp.com', '(434) 515-8984', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Blanche', 'Willette', 'Foystone', 'wfoystone2h@sitemeter.com', '(619) 763-1606', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Korella', 'Ethelind', 'Holdforth', 'eholdforth2i@bloomberg.com', '(964) 844-9101', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Jedediah', 'Abdel', 'Sagrott', 'asagrott2j@seattletimes.com', '(740) 310-7511', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Tally', 'Elyn', 'Dumpleton', 'edumpleton2k@discovery.com', '(989) 650-6420', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Pamella', 'Greta', 'Brood', 'gbrood2l@wordpress.org', '(899) 572-6463', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Andris', 'Dorian', 'Danielkiewicz', 'ddanielkiewicz2m@hhs.gov', '(511) 028-5341', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Amargo', 'Fania', 'Fallowfield', 'ffallowfield2n@friendfeed.com', '(620) 636-0494', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Sarajane', 'Blondelle', 'Mulbry', 'bmulbry2o@opensource.org', '(441) 468-7302', 'F');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Gay', 'Rowland', 'Durgan', 'rdurgan2p@symantec.com', '(377) 782-3304', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Bronnie', 'Jock', 'Trineman', 'jtrineman2q@wp.com', '(048) 759-7494', 'M');
insert into customers (first_name, middle_name, last_name, email, phone, gender) values ('Alaric', 'Mattias', 'Kisar', 'mkisar2r@businessweek.com', '(541) 650-9630', 'M');

-- ===========================================================================
-- Rental Agreements
-- ===========================================================================

insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 115, 10, 74, 21);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 17, 76, 3);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 400, 14, 33, 30);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 50, 2, 47, 23);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 115, 28, 11, 4);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 300, 26, 63, 20);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 8, 62, 1);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 6, 85, 24);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 100, 8, 7, 31);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 100, 11, 28, 19);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 100, 5, 53, 12);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 275, 1, 31, 16);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 300, 25, 17, 8);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 275, 9, 20, 32);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 300, 14, 78, 4);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 50, 10, 97, 22);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 115, 16, 2, 31);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 300, 16, 80, 2);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 115, 19, 30, 34);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 50, 14, 45, 6);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 300, 30, 18, 19);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 400, 24, 81, 27);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 11, 57, 3);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 6, 6, 21);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 2, 78, 39);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 100, 9, 12, 30);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 24, 73, 31);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 50, 24, 73, 11);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 400, 15, 43, 36);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 22, 27, 24);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 275, 14, 75, 14);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 100, 22, 65, 13);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 3, 96, 34);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 50, 2, 89, 31);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 13, 75, 8);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 50, 8, 44, 6);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 450, 6, 44, 1);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 300, 25, 32, 9);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 115, 30, 57, 7);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 13, 69, 7);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 100, 25, 10, 24);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 11, 84, 16);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 115, 1, 61, 5);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 115, 10, 36, 19);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 17, 11, 5);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('weekly', 100, 11, 11, 39);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 17, 48, 39);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('daily', 50, 16, 34, 25);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 115, 5, 46, 1);
insert into rental_agreements (agreement_type, recurring_rate, recurring_due_date, customer_id, parking_space_id) values ('monthly', 100, 23, 60, 36);

-- ===========================================================================
-- Invoices
-- ===========================================================================

insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 3, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 42, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 37, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 4, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 22, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 45, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 43, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 32, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 49, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 4, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 36, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 18, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 2, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 21, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 49, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 37, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 40, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 10, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 16, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 33, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 8, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 23, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 46, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 41, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 46, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 17, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 2, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 12, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 18, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 12, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 46, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 12, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 30, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 6, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 39, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 21, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 37, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 17, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 15, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 40, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 15, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 41, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 30, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 37, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 39, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 17, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 42, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 33, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 8, '2020-11-01', '2020-10-01', '2020-10-31');
insert into invoices (payment_status, rental_agreement_id, payment_due_date, billing_period_start, billing_period_end) values ('not paid', 21, '2020-11-01', '2020-10-01', '2020-10-31');
